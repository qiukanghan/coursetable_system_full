import{_ as e,r as a,o as l,a as s,c as t,w as d,b as o,d as u,e as n,n as c,s as p,f as r,i,g as m,I as f,h as _,j as v}from"./index-BYGVDGSr.js";import{r as w,_ as g}from"./uni-popup.p_DJac7v.js";const h=e({__name:"register",setup(e){const h=a(null);l((()=>{setTimeout((()=>{h.value.open("center")}),300)}));const V=a({studentId:"",password:"",checkpwd:""});return(e,a)=>{const l=i,k=m,I=f,x=_,y=v,b=w(s("uni-popup"),g);return o(),t(b,{ref_key:"popup",ref:h,type:"center","is-mask-click":!1},{default:d((()=>[u(l,{class:"container"},{default:d((()=>[u(l,{class:"logo"},{default:d((()=>[n("注册账号")])),_:1}),u(y,{class:"login-form"},{default:d((()=>[u(l,{class:"form-group"},{default:d((()=>[u(k,null,{default:d((()=>[n("用户名：")])),_:1}),u(I,{type:"text",modelValue:V.value.studentId,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value.studentId=e),placeholder:"请输入用户名"},null,8,["modelValue"]),u(k,null,{default:d((()=>[n("密码：")])),_:1}),u(I,{type:"password",modelValue:V.value.password,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value.password=e),placeholder:"请输入密码"},null,8,["modelValue"]),u(k,null,{default:d((()=>[n("确认密码：")])),_:1}),u(I,{type:"password",modelValue:V.value.checkpwd,"onUpdate:modelValue":a[2]||(a[2]=e=>V.value.checkpwd=e),placeholder:"再次输入密码"},null,8,["modelValue"])])),_:1}),u(x,{class:"btn-register",onClick:a[3]||(a[3]=e=>{V.value.studentId?V.value.password?r({url:"http://10.32.61.192:8080/api/register",method:"POST",data:{studentId:V.value.studentId.trim(),password:V.value.password},success:e=>{201===e.statusCode?(p({title:"注册成功",icon:"success"}),setTimeout((()=>{h.value.close(),c({url:"/pages/index/index"})}),1500)):p({title:"注册失败，请重试",icon:"none"})},fail:()=>{p({title:"网络异常，请检查连接",icon:"none"})},complete:()=>{}}):p({title:"请输入密码",icon:"none"}):p({title:"请输入用户名",icon:"none"})})},{default:d((()=>[n("注册")])),_:1}),u(x,{class:"btn-register",onClick:a[4]||(a[4]=e=>{c({url:"/pages/index/index"})})},{default:d((()=>[n("取消注册")])),_:1})])),_:1})])),_:1})])),_:1},512)}}},[["__scopeId","data-v-cddcf5c3"]]);export{h as default};
